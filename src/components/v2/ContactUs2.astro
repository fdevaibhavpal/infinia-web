<script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>

<section id="contact" class="relative w-full overflow-hidden bg-white">
  <div class="container mx-auto px-6 pb-20 py-10 md:py-32">
    <div class="flex flex-col-reverse md:flex-row items-center justify-between gap-10">
      
    <!-- Left Side: Text and Form -->
    <div class="w-full md:w-1/2 text-center md:text-left space-y-6">
      <h2 class="text-3xl md:text-5xl font-bold leading-tight">
        Be the Next One <br /> in Our List
      </h2>
      <p class="text-gray-700 text-base md:text-lg max-w-md mx-auto md:mx-0">
        Letâ€™s explore how Infinia can support your digital transformation journey.
      </p>

      <!-- Email Input + Send Button -->
      <form id="contact-form" class=" relative flex flex-col sm:flex-row items-center sm:items-start gap-4 max-w-md mx-auto md:mx-0 mt-6">
        <input
          id="email-input"
          type="email"
          placeholder="Email@example.com"
          class="w-full px-4 py-3 border-2 border-purple-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400"
          required
        />
        <button
          type="submit"
          class="px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition"
        >
          Send
        </button>
        <div id="spinner" class="hidden absolute left-0 top-14 w-full mt-2">
          <svg class="animate-spin h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 11-8 8z"></path>
          </svg>
        </div>
      </form>

      <!-- Success Message -->
      <p id="success-message" class="text-green-600 text-sm mt-4 hidden">
        Thank you for contacting us! We'll be in touch soon.
      </p>
    </div>

    
      <div class="w-full md:w-1/2 flex justify-center">
        <dotlottie-player
          src="https://lottie.host/73153a75-7c27-41b6-8e09-cd2a0f195570/PDof1KbmjG.lottie"
          background="transparent"
          speed="1"
          style="width: 100%; max-width: 300px; height: auto"
          loop
          autoplay
        ></dotlottie-player>
      </div>

    </div>
  </div>
</section>



<script is:inline>
  const form = document.getElementById("contact-form");
  const emailInput = document.getElementById("email-input");
  const successMessage = document.getElementById("success-message");
  const spinner = document.getElementById("spinner");

  form.addEventListener("submit", (e) => {
    e.preventDefault();

    const email = emailInput.value.trim();

    if (email) {
      spinner.classList.remove("hidden");

  
      setTimeout(() => {

        spinner.classList.add("hidden");

        // Save email to localStorage
        let savedEmails = JSON.parse(localStorage.getItem("contactEmails")) || [];
        savedEmails.push(email);
        localStorage.setItem("contactEmails", JSON.stringify(savedEmails));
        emailInput.value = "";

  
        successMessage.classList.remove("hidden");

        setTimeout(() => {
          successMessage.classList.add("hidden");
        }, 2000);
      }, 1500); 
    }
  });
</script>